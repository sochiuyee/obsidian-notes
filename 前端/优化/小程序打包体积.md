https://blog.csdn.net/LittleMoon_lyy/article/details/125348190

###### 小程序分包

```js
{
  "pages":[ // 主包
    "pages/index",
    "pages/logs"
  ],
  "subpackages": [ // subpackages配置分包
    {
      "root": "packageA",
      "pages": [
        "pages/cat",
        "pages/dog"
      ]
    }, {
      "root": "packageB",
      "name": "pack2",
      "pages": [
        "pages/apple",
        "pages/banana"
      ]
    }
  ]
}

```

| 字段 | 类型   | 说明                           |
| ---- | ------ | ------------------------------ |
| root | String | 分包根目录                     |
| name | String | 分包别名，分包预下载时可以使用 |
|   pages   |    StringArray    |              分包页面路径，相对于分包根目录                  |
|   independent   |    Boolean    |              分包是否是独立分包                  |

https://opendocs.alipay.com/pre-open/00a9om
**使用分包后的打包原则：**
-   声明subpackages后，将按subpackages配置路径进行打包，subpackages配置路径外的目录将被打包到主包中
-   subpackage的根目录不能是另外一个subpackage内的子目录
-   tabBar页面必须在主包内

---

###### 查看主包和分包的大小

开发者工具 > 详情 > 本地代码 > 代码依赖分析

![[Pasted image 20230212171808.png]]

###### 在浏览器里查看各包大小
```js
// 在taro配置项里使用
const BundleAnalyzerPlugin = require('webpack-bundle-analyzer').BundleAnalyzerPlugin;

mini: { 
	webpackChain (chain, webpack) {
		chain.plugin('analyzer').use(BundleAnalyzerPlugin) 
	} 
}
```
